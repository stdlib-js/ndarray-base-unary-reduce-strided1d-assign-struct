// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import s from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2object@v0.2.2-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed2@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-iteration-order@v0.2.2-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-strides2order@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-numel@v0.2.2-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import{assign as p}from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-minmax-view-buffer-index@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-assign@v0.1.1-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-ndarraylike2ndarray@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-empty-like@v0.3.0-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-loop-interchange-order@v0.2.1-esm/index.mjs";import c from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-tiling-block-size@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy-indexed@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-copy-indexed@esm/index.mjs";import b from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zeros@esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-vind2bind@esm/index.mjs";import k from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";function E(r){return r}function N(r){return{dtype:r.dtype,data:r.data,shape:[1],strides:[0],offset:r.offset,order:r.order}}function z(r){var e,o,f,n,i,d,h;if(0===(e=(i=r.shape).length))return N;if(1===e)return E;for(f=1,d=0,h=0;h<e;h++)1===i[h]&&(d+=1),f*=i[h];if(d===e-1){for(h=0;h<e&&1===i[h];h++);return function(r,s){var e=[r.shape[s]],o=[r.strides[s]];return function(r){return{dtype:r.dtype,data:r.data,shape:e,strides:o,offset:r.offset,order:r.order}}}(r,h)}return 0!==(n=t(r.strides))&&f===(o=p(i,r.strides,r.offset,[0,0]))[1]-o[0]+1?function(r,s){var e,o,f,t;return o=1===s?0:1,e=[0,0],f=[r],t=[s],function(r){return p(r.shape,r.strides,r.offset,e),{dtype:r.dtype,data:r.data,shape:f,strides:t,offset:e[o],order:r.order}}}(f,n):function(r,s){var e={dtype:s.dtype,data:s.data,shape:[r],strides:[1],offset:s.offset,order:s.order};return function(r){return u([r,s]),e}}(f,s(m(a(r))))}function A(r,s){var e;for(e=0;e<r.length;e++)r[e]+=s[e];return r}function T(r,s){var e,o;for(e=0,o=0;e<s.length;e++)1!==e&&(r[o].offset=s[e],o+=1);return r}function V(r){var s,e=[];for(s=0;s<r.length;s++)e.push(r[s].offset);return e}var q="throw";var I=[function(r,s,e,o){s[0]=e(s[0]),r(s,o)},function(r,s,e,o,f,t){var n,i,d,h,p,u;for(i=s[1].shape[0],n=[o[0]],u=1;u<s.length;u++)n.push(s[u].strides[0]);for(d=V(s),p=j(e),h=0;h<i;h++)T(e,d),p[0]=f(e[0]),r(p,t),A(d,n)},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v;if(h=s[1].shape,f)for(p=h[1],u=h[0],i=[o[1]],d=[o[0]-p*o[1]],v=1;v<s.length;v++)a=s[v].strides,i.push(a[1]),d.push(a[0]-p*a[1]);else for(p=h[0],u=h[1],i=[o[0]],d=[o[1]-p*o[0]],v=1;v<s.length;v++)a=s[v].strides,i.push(a[0]),d.push(a[1]-p*a[0]);for(m=V(s),g=j(e),c=0;c<u;c++){for(l=0;l<p;l++)T(e,m),g[0]=t(e[0]),r(g,n),A(m,i);A(m,d)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x;if(p=s[1].shape,f)for(u=p[2],a=p[1],m=p[0],i=[o[2]],d=[o[1]-u*o[2]],h=[o[0]-a*o[1]],x=1;x<s.length;x++)l=s[x].strides,i.push(l[2]),d.push(l[1]-u*l[2]),h.push(l[0]-a*l[1]);else for(u=p[0],a=p[1],m=p[2],i=[o[0]],d=[o[1]-u*o[0]],h=[o[2]-a*o[1]],x=1;x<s.length;x++)l=s[x].strides,i.push(l[0]),d.push(l[1]-u*l[0]),h.push(l[2]-a*l[1]);for(c=V(s),b=j(e),y=0;y<m;y++){for(v=0;v<a;v++){for(g=0;g<u;g++)T(e,c),b[0]=t(e[0]),r(b,n),A(c,i);A(c,d)}A(c,h)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x,w,k,E;if(u=s[1].shape,f)for(a=u[3],m=u[2],l=u[1],c=u[0],i=[o[3]],d=[o[2]-a*o[3]],h=[o[1]-m*o[2]],p=[o[0]-l*o[1]],E=1;E<s.length;E++)g=s[E].strides,i.push(g[3]),d.push(g[2]-a*g[3]),h.push(g[1]-m*g[2]),p.push(g[0]-l*g[1]);else for(a=u[0],m=u[1],l=u[2],c=u[3],i=[o[0]],d=[o[1]-a*o[0]],h=[o[2]-m*o[1]],p=[o[3]-l*o[2]],E=1;E<s.length;E++)g=s[E].strides,i.push(g[0]),d.push(g[1]-a*g[0]),h.push(g[2]-m*g[1]),p.push(g[3]-l*g[2]);for(v=V(s),k=j(e),w=0;w<c;w++){for(x=0;x<l;x++){for(b=0;b<m;b++){for(y=0;y<a;y++)T(e,v),k[0]=t(e[0]),r(k,n),A(v,i);A(v,d)}A(v,h)}A(v,p)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x,w,k,E,N,z,q;if(a=s[1].shape,f)for(m=a[4],l=a[3],c=a[2],g=a[1],v=a[0],i=[o[4]],d=[o[3]-m*o[4]],h=[o[2]-l*o[3]],p=[o[1]-c*o[2]],u=[o[0]-g*o[1]],q=1;q<s.length;q++)y=s[q].strides,i.push(y[4]),d.push(y[3]-m*y[4]),h.push(y[2]-l*y[3]),p.push(y[1]-c*y[2]),u.push(y[0]-g*y[1]);else for(m=a[0],l=a[1],c=a[2],g=a[3],v=a[4],i=[o[0]],d=[o[1]-m*o[0]],h=[o[2]-l*o[1]],p=[o[3]-c*o[2]],u=[o[4]-g*o[3]],q=1;q<s.length;q++)y=s[q].strides,i.push(y[0]),d.push(y[1]-m*y[0]),h.push(y[2]-l*y[1]),p.push(y[3]-c*y[2]),u.push(y[4]-g*y[3]);for(b=V(s),z=j(e),N=0;N<v;N++){for(E=0;E<g;E++){for(k=0;k<c;k++){for(w=0;w<l;w++){for(x=0;x<m;x++)T(e,b),z[0]=t(e[0]),r(z,n),A(b,i);A(b,d)}A(b,h)}A(b,p)}A(b,u)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x,w,k,E,N,z,q,I,R,B;if(m=s[1].shape,f)for(l=m[5],c=m[4],g=m[3],v=m[2],y=m[1],b=m[0],i=[o[5]],d=[o[4]-l*o[5]],h=[o[3]-c*o[4]],p=[o[2]-g*o[3]],u=[o[1]-v*o[2]],a=[o[0]-y*o[1]],B=1;B<s.length;B++)x=s[B].strides,i.push(x[5]),d.push(x[4]-l*x[5]),h.push(x[3]-c*x[4]),p.push(x[2]-g*x[3]),u.push(x[1]-v*x[2]),a.push(x[0]-y*x[1]);else for(l=m[0],c=m[1],g=m[2],v=m[3],y=m[4],b=m[5],i=[o[0]],d=[o[1]-l*o[0]],h=[o[2]-c*o[1]],p=[o[3]-g*o[2]],u=[o[4]-v*o[3]],a=[o[5]-y*o[4]],B=1;B<s.length;B++)x=s[B].strides,i.push(x[0]),d.push(x[1]-l*x[0]),h.push(x[2]-c*x[1]),p.push(x[3]-g*x[2]),u.push(x[4]-v*x[3]),a.push(x[5]-y*x[4]);for(w=V(s),R=j(e),I=0;I<b;I++){for(q=0;q<y;q++){for(z=0;z<v;z++){for(N=0;N<g;N++){for(E=0;E<c;E++){for(k=0;k<l;k++)T(e,w),R[0]=t(e[0]),r(R,n),A(w,i);A(w,d)}A(w,h)}A(w,p)}A(w,u)}A(w,a)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x,w,k,E,N,z,q,I,R,B,C,D,F;if(l=s[1].shape,f)for(c=l[6],g=l[5],v=l[4],y=l[3],b=l[2],x=l[1],w=l[0],i=[o[6]],d=[o[5]-c*o[6]],h=[o[4]-g*o[5]],p=[o[3]-v*o[4]],u=[o[2]-y*o[3]],a=[o[1]-b*o[2]],m=[o[0]-x*o[1]],F=1;F<s.length;F++)k=s[F].strides,i.push(k[6]),d.push(k[5]-c*k[6]),h.push(k[4]-g*k[5]),p.push(k[3]-v*k[4]),u.push(k[2]-y*k[3]),a.push(k[1]-b*k[2]),m.push(k[0]-x*k[1]);else for(c=l[0],g=l[1],v=l[2],y=l[3],b=l[4],x=l[5],w=l[6],i=[o[0]],d=[o[1]-c*o[0]],h=[o[2]-g*o[1]],p=[o[3]-v*o[2]],u=[o[4]-y*o[3]],a=[o[5]-b*o[4]],m=[o[6]-x*o[5]],F=1;F<s.length;F++)k=s[F].strides,i.push(k[0]),d.push(k[1]-c*k[0]),h.push(k[2]-g*k[1]),p.push(k[3]-v*k[2]),u.push(k[4]-y*k[3]),a.push(k[5]-b*k[4]),m.push(k[6]-x*k[5]);for(E=V(s),D=j(e),C=0;C<w;C++){for(B=0;B<x;B++){for(R=0;R<b;R++){for(I=0;I<y;I++){for(q=0;q<v;q++){for(z=0;z<g;z++){for(N=0;N<c;N++)T(e,E),D[0]=t(e[0]),r(D,n),A(E,i);A(E,d)}A(E,h)}A(E,p)}A(E,u)}A(E,a)}A(E,m)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,v,y,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J;if(c=s[1].shape,f)for(g=c[7],v=c[6],y=c[5],b=c[4],x=c[3],w=c[2],k=c[1],E=c[0],i=[o[7]],d=[o[6]-g*o[7]],h=[o[5]-v*o[6]],p=[o[4]-y*o[5]],u=[o[3]-b*o[4]],a=[o[2]-x*o[3]],m=[o[1]-w*o[2]],l=[o[0]-k*o[1]],J=1;J<s.length;J++)N=s[J].strides,i.push(N[7]),d.push(N[6]-g*N[7]),h.push(N[5]-v*N[6]),p.push(N[4]-y*N[5]),u.push(N[3]-b*N[4]),a.push(N[2]-x*N[3]),m.push(N[1]-w*N[2]),l.push(N[0]-k*N[1]);else for(g=c[0],v=c[1],y=c[2],b=c[3],x=c[4],w=c[5],k=c[6],E=c[7],i=[o[0]],d=[o[1]-g*o[0]],h=[o[2]-v*o[1]],p=[o[3]-y*o[2]],u=[o[4]-b*o[3]],a=[o[5]-x*o[4]],m=[o[6]-w*o[5]],l=[o[7]-k*o[6]],J=1;J<s.length;J++)N=s[J].strides,i.push(N[0]),d.push(N[1]-g*N[0]),h.push(N[2]-v*N[1]),p.push(N[3]-y*N[2]),u.push(N[4]-b*N[3]),a.push(N[5]-x*N[4]),m.push(N[6]-w*N[5]),l.push(N[7]-k*N[6]);for(z=V(s),H=j(e),G=0;G<E;G++){for(F=0;F<k;F++){for(D=0;D<w;D++){for(C=0;C<x;C++){for(B=0;B<b;B++){for(R=0;R<y;R++){for(I=0;I<v;I++){for(q=0;q<g;q++)T(e,z),H[0]=t(e[0]),r(H,n),A(z,i);A(z,d)}A(z,h)}A(z,p)}A(z,u)}A(z,a)}A(z,m)}A(z,l)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,y,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M;if(g=s[1].shape,f)for(y=g[8],j=g[7],b=g[6],x=g[5],w=g[4],k=g[3],E=g[2],N=g[1],z=g[0],i=[o[8]],d=[o[7]-y*o[8]],h=[o[6]-j*o[7]],p=[o[5]-b*o[6]],u=[o[4]-x*o[5]],a=[o[3]-w*o[4]],m=[o[2]-k*o[3]],l=[o[1]-E*o[2]],c=[o[0]-N*o[1]],M=1;M<s.length;M++)q=s[M].strides,i.push(q[8]),d.push(q[7]-y*q[8]),h.push(q[6]-j*q[7]),p.push(q[5]-b*q[6]),u.push(q[4]-x*q[5]),a.push(q[3]-w*q[4]),m.push(q[2]-k*q[3]),l.push(q[1]-E*q[2]),c.push(q[0]-N*q[1]);else for(y=g[0],j=g[1],b=g[2],x=g[3],w=g[4],k=g[5],E=g[6],N=g[7],z=g[8],i=[o[0]],d=[o[1]-y*o[0]],h=[o[2]-j*o[1]],p=[o[3]-b*o[2]],u=[o[4]-x*o[3]],a=[o[5]-w*o[4]],m=[o[6]-k*o[5]],l=[o[7]-E*o[6]],c=[o[8]-N*o[7]],M=1;M<s.length;M++)q=s[M].strides,i.push(q[0]),d.push(q[1]-y*q[0]),h.push(q[2]-j*q[1]),p.push(q[3]-b*q[2]),u.push(q[4]-x*q[3]),a.push(q[5]-w*q[4]),m.push(q[6]-k*q[5]),l.push(q[7]-E*q[6]),c.push(q[8]-N*q[7]);for(I=V(s),L=v(e),K=0;K<z;K++){for(J=0;J<N;J++){for(H=0;H<E;H++){for(G=0;G<k;G++){for(F=0;F<w;F++){for(D=0;D<x;D++){for(C=0;C<b;C++){for(B=0;B<j;B++){for(R=0;R<y;R++)T(e,I),L[0]=t(e[0]),r(L,n),A(I,i);A(I,d)}A(I,h)}A(I,p)}A(I,u)}A(I,a)}A(I,m)}A(I,l)}A(I,c)}},function(r,s,e,o,f,t,n){var i,d,h,p,u,a,m,l,c,g,y,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q;if(y=s[1].shape,f)for(j=y[9],b=y[8],x=y[7],w=y[6],k=y[5],E=y[4],N=y[3],z=y[2],q=y[1],I=y[0],i=[o[9]],d=[o[8]-j*o[9]],h=[o[7]-b*o[8]],p=[o[6]-x*o[7]],u=[o[5]-w*o[6]],a=[o[4]-k*o[5]],m=[o[3]-E*o[4]],l=[o[2]-N*o[3]],c=[o[1]-z*o[2]],g=[o[0]-q*o[1]],Q=1;Q<s.length;Q++)R=s[Q].strides,i.push(R[9]),d.push(R[8]-j*R[9]),h.push(R[7]-b*R[8]),p.push(R[6]-x*R[7]),u.push(R[5]-w*R[6]),a.push(R[4]-k*R[5]),m.push(R[3]-E*R[4]),l.push(R[2]-N*R[3]),c.push(R[1]-z*R[2]),g.push(R[0]-q*R[1]);else for(j=y[0],b=y[1],x=y[2],w=y[3],k=y[4],E=y[5],N=y[6],z=y[7],q=y[8],I=y[9],i=[o[0]],d=[o[1]-j*o[0]],h=[o[2]-b*o[1]],p=[o[3]-x*o[2]],u=[o[4]-w*o[3]],a=[o[5]-k*o[4]],m=[o[6]-E*o[5]],l=[o[7]-N*o[6]],c=[o[8]-z*o[7]],g=[o[9]-q*o[8]],Q=1;Q<s.length;Q++)R=s[Q].strides,i.push(R[0]),d.push(R[1]-j*R[0]),h.push(R[2]-b*R[1]),p.push(R[3]-x*R[2]),u.push(R[4]-w*R[3]),a.push(R[5]-k*R[4]),m.push(R[6]-E*R[5]),l.push(R[7]-N*R[6]),c.push(R[8]-z*R[7]),g.push(R[9]-q*R[8]);for(B=V(s),P=v(e),O=0;O<I;O++){for(M=0;M<q;M++){for(L=0;L<z;L++){for(K=0;K<N;K++){for(J=0;J<E;J++){for(H=0;H<k;H++){for(G=0;G<w;G++){for(F=0;F<x;F++){for(D=0;D<b;D++){for(C=0;C<j;C++)T(e,B),P[0]=t(e[0]),r(P,n),A(B,i);A(B,d)}A(B,h)}A(B,p)}A(B,u)}A(B,a)}A(B,m)}A(B,l)}A(B,c)}A(B,g)}}],R=[function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B;for(N=s.length,z=s[0],q=s[1],p=(R=l(q.shape,o,q.strides)).sh,m=[R.sx,R.sy],B=2;B<N;B++)m.push(g(s[B].strides,R.idx));for(n=c(z.dtype,q.dtype),j=V(s),i=[],B=0;B<N;B++)i.push(m[B][0]);for(h=y(N),d=y(N),b=y(N),I=v(e),E=p[1];E>0;){for(E<n?(a=E,E=0):(a=n,E-=n),B=0;B<N;B++)h[B]=j[B]+E*m[B][1];for(k=p[0];k>0;){for(k<n?(u=k,k=0):(u=n,k-=n),B=0;B<N;B++)b[B]=h[B]+k*m[B][0],d[B]=m[B][1]-u*m[B][0];for(w=0;w<a;w++){for(x=0;x<u;x++)T(e,b),I[0]=f(e[0]),r(I,t),A(b,i);A(b,d)}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H;for(B=s.length,C=s[0],D=s[1],a=(G=l(D.shape,o,D.strides)).sh,x=[G.sx,G.sy],H=2;H<B;H++)x.push(g(s[H].strides,G.idx));for(n=c(C.dtype,D.dtype),w=V(s),i=[],H=0;H<B;H++)i.push(x[H][0]);for(p=y(B),u=y(B),d=y(B),h=y(B),k=y(B),F=v(e),R=a[2];R>0;){for(R<n?(b=R,R=0):(b=n,R-=n),H=0;H<B;H++)u[H]=w[H]+R*x[H][2];for(I=a[1];I>0;){for(I<n?(j=I,I=0):(j=n,I-=n),H=0;H<B;H++)p[H]=u[H]+I*x[H][1],h[H]=x[H][2]-j*x[H][1];for(q=a[0];q>0;){for(q<n?(m=q,q=0):(m=n,q-=n),H=0;H<B;H++)k[H]=p[H]+q*x[H][0],d[H]=x[H][1]-m*x[H][0];for(z=0;z<b;z++){for(N=0;N<j;N++){for(E=0;E<m;E++)T(e,k),F[0]=f(e[0]),r(F,t),A(k,i);A(k,d)}A(k,h)}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O;for(H=s.length,J=s[0],K=s[1],j=(M=l(K.shape,o,K.strides)).sh,E=[M.sx,M.sy],O=2;O<H;O++)E.push(g(s[O].strides,M.idx));for(n=c(J.dtype,K.dtype),N=V(s),i=[],O=0;O<H;O++)i.push(E[O][0]);for(u=y(H),a=y(H),m=y(H),d=y(H),h=y(H),p=y(H),z=y(H),L=v(e),G=j[3];G>0;){for(G<n?(k=G,G=0):(k=n,G-=n),O=0;O<H;O++)m[O]=N[O]+G*E[O][3];for(F=j[2];F>0;){for(F<n?(w=F,F=0):(w=n,F-=n),O=0;O<H;O++)a[O]=m[O]+F*E[O][2],p[O]=E[O][3]-w*E[O][2];for(D=j[1];D>0;){for(D<n?(x=D,D=0):(x=n,D-=n),O=0;O<H;O++)u[O]=a[O]+D*E[O][1],h[O]=E[O][2]-x*E[O][1];for(C=j[0];C>0;){for(C<n?(b=C,C=0):(b=n,C-=n),O=0;O<H;O++)z[O]=u[O]+C*E[O][0],d[O]=E[O][1]-b*E[O][0];for(B=0;B<k;B++){for(R=0;R<w;R++){for(I=0;I<x;I++){for(q=0;q<b;q++)T(e,z),L[0]=f(e[0]),r(L,t),A(z,i);A(z,d)}A(z,h)}A(z,p)}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W;for(O=s.length,P=s[0],Q=s[1],x=(U=l(Q.shape,o,Q.strides)).sh,q=[U.sx,U.sy],W=2;W<O;W++)q.push(g(s[W].strides,U.idx));for(n=c(P.dtype,Q.dtype),I=V(s),i=[],W=0;W<O;W++)i.push(q[W][0]);for(a=y(O),m=y(O),j=y(O),b=y(O),d=y(O),h=y(O),p=y(O),u=y(O),R=y(O),S=v(e),M=x[4];M>0;){for(M<n?(z=M,M=0):(z=n,M-=n),W=0;W<O;W++)b[W]=I[W]+M*q[W][4];for(L=x[3];L>0;){for(L<n?(N=L,L=0):(N=n,L-=n),W=0;W<O;W++)u[W]=q[W][4]-N*q[W][3],j[W]=b[W]+L*q[W][3];for(K=x[2];K>0;){for(K<n?(E=K,K=0):(E=n,K-=n),W=0;W<O;W++)p[W]=q[W][3]-E*q[W][2],m[W]=j[W]+K*q[W][2];for(J=x[1];J>0;){for(J<n?(k=J,J=0):(k=n,J-=n),W=0;W<O;W++)h[W]=q[W][2]-k*q[W][1],a[W]=m[W]+J*q[W][1];for(H=x[0];H>0;){for(H<n?(w=H,H=0):(w=n,H-=n),W=0;W<O;W++)R[W]=a[W]+H*q[W][0],d[W]=q[W][1]-w*q[W][0];for(G=0;G<z;G++){for(F=0;F<N;F++){for(D=0;D<E;D++){for(C=0;C<k;C++){for(B=0;B<w;B++)T(e,R),S[0]=f(e[0]),r(S,t),A(R,i);A(R,d)}A(R,h)}A(R,p)}A(R,u)}}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,v,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X,Y,Z,$,_;for(W=s.length,X=s[0],Y=s[1],k=($=l(Y.shape,o,Y.strides)).sh,B=[$.sx,$.sy],_=2;_<W;_++)B.push(g(s[_].strides,$.idx));for(n=c(X.dtype,Y.dtype),C=V(s),i=[],_=0;_<W;_++)i.push(B[_][0]);for(m=y(W),v=y(W),b=y(W),x=y(W),w=y(W),d=y(W),h=y(W),p=y(W),u=y(W),a=y(W),D=y(W),Z=j(e),U=k[5];U>0;){for(U<n?(R=U,U=0):(R=n,U-=n),_=0;_<W;_++)w[_]=C[_]+U*B[_][5];for(S=k[4];S>0;){for(S<n?(I=S,S=0):(I=n,S-=n),_=0;_<W;_++)a=B[_][5]-I*B[_][4],x[_]=w[_]+S*B[_][4];for(Q=k[3];Q>0;){for(Q<n?(q=Q,Q=0):(q=n,Q-=n),_=0;_<W;_++)u[_]=B[_][4]-q*B[_][3],b[_]=x[_]+Q*B[_][3];for(P=k[2];P>0;){for(P<n?(z=P,P=0):(z=n,P-=n),_=0;_<W;_++)p[_]=B[_][3]-z*B[_][2],v[_]=b[_]+P*B[_][2];for(O=k[1];O>0;){for(O<n?(N=O,O=0):(N=n,O-=n),_=0;_<W;_++)h[_]=B[_][2]-N*B[_][1],m[_]=v[_]+O*B[_][1];for(M=k[0];M>0;){for(M<n?(E=M,M=0):(E=n,M-=n),_=0;_<W;_++)D[_]=m[_]+M*B[_][0],d[_]=B[_][1]-E*B[_][0];for(L=0;L<R;L++){for(K=0;K<I;K++){for(J=0;J<q;J++){for(H=0;H<z;H++){for(G=0;G<N;G++){for(F=0;F<E;F++)T(e,D),Z[0]=f(e[0]),r(Z,t),A(D,i);A(D,d)}A(D,h)}A(D,p)}A(D,u)}A(D,a)}}}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,er,or,fr;for(_=s.length,rr=s[0],sr=s[1],N=(or=l(sr.shape,o,sr.strides)).sh,F=[or.sx,or.sy],fr=2;fr<_;fr++)F.push(g(s[fr].strides,or.idx));for(n=c(rr.dtype,sr.dtype),G=V(s),i=[],fr=0;fr<_;fr++)i.push(F[fr][0]);for(j=y(_),b=y(_),x=y(_),w=y(_),k=y(_),E=y(_),d=y(_),h=y(_),p=y(_),u=y(_),a=y(_),m=y(_),H=y(_),er=v(e),$=N[6];$>0;){for($<n?(D=$,$=0):(D=n,$-=n),fr=0;fr<_;fr++)E[fr]=G[fr]+$*F[fr][6];for(Z=N[5];Z>0;){for(Z<n?(C=Z,Z=0):(C=n,Z-=n),fr=0;fr<_;fr++)m=F[fr][6]-C*F[fr][5],k[fr]=E[fr]+Z*F[fr][5];for(Y=N[4];Y>0;){for(Y<n?(B=Y,Y=0):(B=n,Y-=n),fr=0;fr<_;fr++)a=F[fr][5]-B*F[fr][4],w[fr]=k[fr]+Y*F[fr][4];for(X=N[3];X>0;){for(X<n?(R=X,X=0):(R=n,X-=n),fr=0;fr<_;fr++)u[fr]=F[fr][4]-R*F[fr][3],x[fr]=w[fr]+X*F[fr][3];for(W=N[2];W>0;){for(W<n?(I=W,W=0):(I=n,W-=n),fr=0;fr<_;fr++)p[fr]=F[fr][3]-I*F[fr][2],b[fr]=x[fr]+W*F[fr][2];for(U=N[1];U>0;){for(U<n?(q=U,U=0):(q=n,U-=n),fr=0;fr<_;fr++)h[fr]=F[fr][2]-q*F[fr][1],j[fr]=b[fr]+U*F[fr][1];for(S=N[0];S>0;){for(S<n?(z=S,S=0):(z=n,S-=n),fr=0;fr<_;fr++)H[fr]=j[fr]+S*F[fr][0],d[fr]=F[fr][1]-z*F[fr][0];for(Q=0;Q<D;Q++){for(P=0;P<C;P++){for(O=0;O<B;O++){for(M=0;M<R;M++){for(L=0;L<I;L++){for(K=0;K<q;K++){for(J=0;J<z;J++)T(e,H),er[0]=f(e[0]),r(er,t),A(H,i);A(H,d)}A(H,h)}A(H,p)}A(H,u)}A(H,a)}A(H,m)}}}}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,g,j,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,er,or,fr,tr,nr,ir,dr,hr;for(fr=s.length,tr=s[0],nr=s[1],q=(dr=l(nr.shape,o,nr.strides)).sh,J=[dr.sx,dr.sy],hr=2;hr<fr;hr++)J.push(b(s[hr].strides,dr.idx));for(n=c(tr.dtype,nr.dtype),K=V(s),i=[],hr=0;hr<fr;hr++)i.push(J[hr][0]);for(j=y(fr),x=y(fr),w=y(fr),k=y(fr),E=y(fr),N=y(fr),z=y(fr),d=y(fr),h=y(fr),p=y(fr),u=y(fr),a=y(fr),m=y(fr),g=y(fr),L=y(fr),ir=v(e),or=q[7];or>0;){for(or<n?(H=or,or=0):(H=n,or-=n),hr=0;hr<fr;hr++)z[hr]=K[hr]+or*J[hr][7];for(er=q[6];er>0;){for(er<n?(G=er,er=0):(G=n,er-=n),hr=0;hr<fr;hr++)g=J[hr][7]-G*J[hr][6],N[hr]=z[hr]+er*J[hr][6];for(sr=q[5];sr>0;){for(sr<n?(F=sr,sr=0):(F=n,sr-=n),hr=0;hr<fr;hr++)m=J[hr][6]-F*J[hr][5],E[hr]=N[hr]+sr*J[hr][5];for(rr=q[4];rr>0;){for(rr<n?(D=rr,rr=0):(D=n,rr-=n),hr=0;hr<fr;hr++)a=J[hr][5]-D*J[hr][4],k[hr]=E[hr]+rr*J[hr][4];for(_=q[3];_>0;){for(_<n?(C=_,_=0):(C=n,_-=n),hr=0;hr<fr;hr++)u[hr]=J[hr][4]-C*J[hr][3],w[hr]=k[hr]+_*J[hr][3];for($=q[2];$>0;){for($<n?(B=$,$=0):(B=n,$-=n),hr=0;hr<fr;hr++)p[hr]=J[hr][3]-B*J[hr][2],x[hr]=w[hr]+$*J[hr][2];for(Z=q[1];Z>0;){for(Z<n?(R=Z,Z=0):(R=n,Z-=n),hr=0;hr<fr;hr++)h[hr]=J[hr][2]-R*J[hr][1],j[hr]=x[hr]+Z*J[hr][1];for(Y=q[0];Y>0;){for(Y<n?(I=Y,Y=0):(I=n,Y-=n),hr=0;hr<fr;hr++)L[hr]=j[hr]+Y*J[hr][0],d[hr]=J[hr][1]-I*J[hr][0];for(X=0;X<H;X++){for(W=0;W<G;W++){for(U=0;U<F;U++){for(S=0;S<D;S++){for(Q=0;Q<C;Q++){for(P=0;P<B;P++){for(O=0;O<R;O++){for(M=0;M<I;M++)T(e,L),ir[0]=f(e[0]),r(ir,t),A(L,i);A(L,d)}A(L,h)}A(L,p)}A(L,u)}A(L,a)}A(L,m)}A(L,g)}}}}}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,j,b,x,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,er,or,fr,tr,nr,ir,dr,hr,pr,ur,ar,mr,lr;for(hr=s.length,pr=s[0],ur=s[1],R=(mr=l(ur.shape,o,ur.strides)).sh,M=[mr.sx,mr.sy],lr=2;lr<hr;lr++)M.push(g(s[lr].strides,mr.idx));for(n=c(pr.dtype,ur.dtype),O=V(s),i=[],lr=0;lr<hr;lr++)i.push(M[lr][0]);for(x=y(hr),w=y(hr),k=y(hr),E=y(hr),N=y(hr),z=y(hr),q=y(hr),I=y(hr),d=y(hr),h=y(hr),p=y(hr),u=y(hr),a=y(hr),m=y(hr),j=y(hr),b=y(hr),P=y(hr),ar=v(e),dr=R[8];dr>0;){for(dr<n?(L=dr,dr=0):(L=n,dr-=n),lr=0;lr<hr;lr++)I[lr]=O[lr]+dr*M[lr][8];for(ir=R[7];ir>0;){for(ir<n?(K=ir,ir=0):(K=n,ir-=n),lr=0;lr<hr;lr++)b=M[lr][8]-K*M[lr][7],q[lr]=I[lr]+ir*M[lr][7];for(nr=R[6];nr>0;){for(nr<n?(J=nr,nr=0):(J=n,nr-=n),lr=0;lr<hr;lr++)j=M[lr][7]-J*M[lr][6],z[lr]=q[lr]+nr*M[lr][6];for(tr=R[5];tr>0;){for(tr<n?(H=tr,tr=0):(H=n,tr-=n),lr=0;lr<hr;lr++)m=M[lr][6]-H*M[lr][5],N[lr]=z[lr]+tr*M[lr][5];for(fr=R[4];fr>0;){for(fr<n?(G=fr,fr=0):(G=n,fr-=n),lr=0;lr<hr;lr++)a=M[lr][5]-G*M[lr][4],E[lr]=N[lr]+fr*M[lr][4];for(or=R[3];or>0;){for(or<n?(F=or,or=0):(F=n,or-=n),lr=0;lr<hr;lr++)u[lr]=M[lr][4]-F*M[lr][3],k[lr]=E[lr]+or*M[lr][3];for(er=R[2];er>0;){for(er<n?(D=er,er=0):(D=n,er-=n),lr=0;lr<hr;lr++)p[lr]=M[lr][3]-D*M[lr][2],w[lr]=k[lr]+er*M[lr][2];for(sr=R[1];sr>0;){for(sr<n?(C=sr,sr=0):(C=n,sr-=n),lr=0;lr<hr;lr++)h[lr]=M[lr][2]-C*M[lr][1],x[lr]=w[lr]+sr*M[lr][1];for(rr=R[0];rr>0;){for(rr<n?(B=rr,rr=0):(B=n,rr-=n),lr=0;lr<hr;lr++)P[lr]=x[lr]+rr*M[lr][0],d[lr]=M[lr][1]-B*M[lr][0];for(_=0;_<L;_++){for($=0;$<K;$++){for(Z=0;Z<J;Z++){for(Y=0;Y<H;Y++){for(X=0;X<G;X++){for(W=0;W<F;W++){for(U=0;U<D;U++){for(S=0;S<C;S++){for(Q=0;Q<B;Q++)T(e,P),ar[0]=f(e[0]),r(ar,t),A(P,i);A(P,d)}A(P,h)}A(P,p)}A(P,u)}A(P,a)}A(P,m)}A(P,j)}A(P,b)}}}}}}}}}}},function(r,s,e,o,f,t){var n,i,d,h,p,u,a,m,g,v,y,w,k,E,N,z,q,I,R,B,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X,Y,Z,$,_,rr,sr,er,or,fr,tr,nr,ir,dr,hr,pr,ur,ar,mr,lr,cr,gr,vr,yr,jr;for(lr=s.length,cr=s[0],gr=s[1],C=(yr=l(gr.shape,o,gr.strides)).sh,Q=[yr.sx,yr.sy],jr=2;jr<lr;jr++)Q.push(b(s[jr].strides,yr.idx));for(n=c(cr.dtype,gr.dtype),S=V(s),i=[],jr=0;jr<lr;jr++)i.push(Q[jr][0]);for(w=x(lr),k=x(lr),E=x(lr),N=x(lr),z=x(lr),q=x(lr),I=x(lr),R=x(lr),B=x(lr),d=x(lr),h=x(lr),p=x(lr),u=x(lr),a=x(lr),m=x(lr),g=x(lr),v=x(lr),y=x(lr),U=x(lr),vr=j(e),mr=C[9];mr>0;){for(mr<n?(P=mr,mr=0):(P=n,mr-=n),jr=0;jr<lr;jr++)B[jr]=S[jr]+mr*Q[jr][9];for(ar=C[8];ar>0;){for(ar<n?(O=ar,ar=0):(O=n,ar-=n),jr=0;jr<lr;jr++)y=Q[jr][9]-O*Q[jr][8],R[jr]=B[jr]+ar*Q[jr][8];for(ur=C[7];ur>0;){for(ur<n?(M=ur,ur=0):(M=n,ur-=n),jr=0;jr<lr;jr++)v=Q[jr][8]-M*Q[jr][7],I[jr]=R[jr]+ur*Q[jr][7];for(pr=C[6];pr>0;){for(pr<n?(L=pr,pr=0):(L=n,pr-=n),jr=0;jr<lr;jr++)g=Q[jr][7]-L*Q[jr][6],q[jr]=I[jr]+pr*Q[jr][6];for(hr=C[5];hr>0;){for(hr<n?(K=hr,hr=0):(K=n,hr-=n),jr=0;jr<lr;jr++)m=Q[jr][6]-K*Q[jr][5],z[jr]=q[jr]+hr*Q[jr][5];for(dr=C[4];dr>0;){for(dr<n?(J=dr,dr=0):(J=n,dr-=n),jr=0;jr<lr;jr++)a=Q[jr][5]-J*Q[jr][4],N[jr]=z[jr]+dr*Q[jr][4];for(ir=C[3];ir>0;){for(ir<n?(H=ir,ir=0):(H=n,ir-=n),jr=0;jr<lr;jr++)u[jr]=Q[jr][4]-H*Q[jr][3],E[jr]=N[jr]+ir*Q[jr][3];for(nr=C[2];nr>0;){for(nr<n?(G=nr,nr=0):(G=n,nr-=n),jr=0;jr<lr;jr++)p[jr]=Q[jr][3]-G*Q[jr][2],k[jr]=E[jr]+nr*Q[jr][2];for(tr=C[1];tr>0;){for(tr<n?(F=tr,tr=0):(F=n,tr-=n),jr=0;jr<lr;jr++)h[jr]=Q[jr][2]-F*Q[jr][1],w[jr]=k[jr]+tr*Q[jr][1];for(fr=C[0];fr>0;){for(fr<n?(D=fr,fr=0):(D=n,fr-=n),jr=0;jr<lr;jr++)U[jr]=w[jr]+fr*Q[jr][0],d[jr]=Q[jr][1]-D*Q[jr][0];for(or=0;or<P;or++){for(er=0;er<O;er++){for(sr=0;sr<M;sr++){for(rr=0;rr<L;rr++){for(_=0;_<K;_++){for($=0;$<J;$++){for(Z=0;Z<H;Z++){for(Y=0;Y<G;Y++){for(X=0;X<F;X++){for(W=0;W<D;W++)T(e,U),vr[0]=f(e[0]),r(vr,t),A(U,i);A(U,d)}A(U,h)}A(U,p)}A(U,u)}A(U,a)}A(U,m)}A(U,g)}A(U,v)}A(U,y)}}}}}}}}}}}}],B=I.length-1;function C(r,p,u,a){var m,l,c,g,j,b,x,k,E,N,A,C,D,F,G,H,J,K,L,M,O,P,Q,S,U,W,X;for(j=arguments.length>3?a:{},O=p.length,b=[],W=0;W<O;W++)b.push(s(p[W]));if(S=b[0],U=b[1],c=(E=S.shape).length,P=u.length,null===(L=e(u,c-1)))throw new RangeError(h("invalid argument. Third argument contains an out-of-bounds dimension index. Value: [%s].",d(u,",")));if(L.sort(),L.length!==P)throw new Error(h("invalid argument. Third argument must contain a list of unique dimension indices. Value: [%s].",d(u,",")));if(P>c)throw new RangeError(h("invalid argument. Number of specified dimensions cannot exceed the number of dimensions in the input array. Number of dimensions: %d. Value: [%s].",c,d(u,",")));for(Q=c-P,W=1;W<O;W++)if(b[W].shape.length!==Q)throw new Error(h("invalid argument. Arrays which are not being reduced must have the same number of non-reduced dimensions. Input array shape: [%s]. Number of non-reduced dimensions: %d. Array shape: [%s] (index: %d).",d(E,","),Q,d(b[W].shape,","),W));for(g=o(E.length,L),A=(x=f(E,S.strides,g))[0],H=x[1],N=(x=f(E,S.strides,L))[0],G=x[1],k=1,K=0,W=0;W<Q;W++){for(M=A[W],X=1;X<O;X++)if(M!==b[X].shape[W])throw new Error(h("invalid argument. Non-reduced dimensions must be consistent across all provided arrays. Input array shape: [%s]. Non-reduced dimension indices: [%s]. Non-reduced dimensions: [%s]. Array shape: [%s] (index: %d).",d(E,","),d(g,","),d(A,","),d(b[X].shape,","),X));k*=M,1===M&&(K+=1)}if(!(0===k||N.length&&0===i(N))){if(function(r,s){var e,o;for(o=1;o<r.length;o++)e=r[o],s.push({dtype:e.dtype,data:e.data,shape:[],strides:[0],offset:e.offset,order:e.order})}(b,l=[{dtype:S.dtype,data:S.data,shape:N,strides:G,offset:S.offset,order:S.order}]),m=z(l[0]),0===Q)return I[Q](r,b,m,j);if(1===Q)return I[Q](r,b,l,H,m,j);if(J=U.strides,K===Q-1){for(W=0;W<Q&&1===A[W];W++);for(U.shape=[A[W]],X=0;X<O;X++)b[X].strides=[b[X].strides[W]];return H=[H[W]],I[1](r,b,l,H,m,j)}return C=t(H),D=t(J),F=n(H),0!==C&&0!==D&&F===n(J)&&Q<=B?I[Q](r,b,l,H,1===F,m,j):Q<=B?R[Q-2](r,b,l,H,m,j):void function(r,s,e,o,f,t){var n,d,h,p,u,a,m,l,c;for(a=s.length,h=s[1].shape,n=i(h),p=V(s),m=v(e),u=y(a),l=0;l<n;l++){for(c=0;c<a;c++)d=s[c],u[c]=w(h,d.strides,p[c],d.order,l,q);T(e,u),m[0]=f(e[0]),r(m,t)}}(r,b,l,0,m,j)}}function D(r){if(!k(r))throw new TypeError(h("null3c",r));return function(s,e,o){var f;f=arguments.length>2?o:{};return C(r,s,e,f)}}r(C,"factory",D);export{C as default,D as factory};
//# sourceMappingURL=index.mjs.map
